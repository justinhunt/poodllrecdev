define(["jquery","core/log","filter_poodll/speech_browser"],function(a,b,c){"use strict";return b.debug("speech_poodll: initialising"),{recognizer:null,clone:function(){return a.extend(!0,{},this)},supports_browser:function(){return"webkitSpeechRecognition"in window||"SpeechRecognition"in window},init:function(a){"webkitSpeechRecognition"in window||"SpeechRecognition"in window?(this.recognizer=c.clone(),this.recognizer.init(a)):b.debug("no usable speech recognizer found")},start:function(){this.recognizer&&(this.recognizer.onfinalspeechcapture=this.onfinalspeechcapture,this.recognizer.oninterimspeechcapture=this.oninterimspeechcapture,this.recognizer&&this.recognizer.start())},stop:function(){this.recognizer&&this.recognizer&&this.recognizer.stop()},onfinalspeechcapture:function(a){this.recognizer&&b.debug("final:"+a)},oninterimspeechcapture:function(a){this.recognizer&&b.debug("interim:"+a)}}});